{
    "width": 150,
    "height": 150,
    "data": [
        {
            "name": "table",
            "values": []
    }
  ],
    "legends": [
        {
            "fill": "color",
            "offset": 0,
            "properties": {},
            "title": "Status",
            "values": ["CKAN", "Socrata", "OpenDataSoft"]
    }
  ],
    "scales": [
        {
            "name": "r",
            "type": "sqrt",
            "domain": {
                "data": "table",
                "field": "count"
            },
            "range": [50, 50]
    },
        {
            "domain": {
                "data": "table",
                "field": "software"
            },
            "name": "color",
            "range": "category10",
            "type": "ordinal"
    }
  ],
    "padding": "auto",

    "marks": [
        {
            "type": "arc",
            "from": {
                "data": "table",
                "transform": [{
                    "type": "pie",
                    "field": "count"
                }]
            },
            "properties": {
                "enter": {
                    "x": {
                        "field": {
                            "group": "width"
                        },
                        "mult": 0.5
                    },
                    "y": {
                        "field": {
                            "group": "height"
                        },
                        "mult": 0.5
                    },
                    "startAngle": {
                        "field": "layout_start"
                    },
                    "endAngle": {
                        "field": "layout_end"
                    },
                    "innerRadius": {
                        "value": 40
                    },
                    "outerRadius": {
                        "scale": "r",
                        "field": "count"
                    },
                    "stroke": {
                        "value": "#fff"
                    },
                    "fill": {
                        "field": "software",
                        "scale": "color"
                    }
                },
                "update": {
                    "fill": {
                        "field": "software",
                        "scale": "color"
                    }
                },
                "hover": {
                    "fill": {
                        "value": "pink"
                    }
                }
            }
    },
        {
            "type": "text",
            "from": {
                "data": "table",
                "transform": [{
                    "type": "pie",
                    "field": "count"
                }]
            },
            "properties": {
                "enter": {
                    "x": {
                        "field": {
                            "group": "width"
                        },
                        "mult": 0.5
                    },
                    "y": {
                        "field": {
                            "group": "height"
                        },
                        "mult": 0.5
                    },
                    "radius": {
                        "scale": "r",
                        "field": "count",
                        "offset": 10
                    },
                    "theta": {
                        "field": "layout_mid"
                    },
                    "fill": {
                        "value": "#000"
                    },
                    "align": {
                        "value": "center"
                    },
                    "baseline": {
                        "value": "middle"
                    },
                    "text": {
                        "field": "count"
                    }
                }
            }
    }
  ]
}