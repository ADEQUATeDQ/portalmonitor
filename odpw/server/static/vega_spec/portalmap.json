{
    "height": 250,
    "width": 400,
    "padding": {
        "top": 150,
        "left": 50,
        "bottom": 50,
        "right": 50
    },
    "axes": [],
    "data": [
        {
            "name": "table",
            "values": []
    },
        {
            "format": {
                "feature": "world-countries",
                "type": "topojson"
            },
            "name": "countries",
            "transform": [
                {
                    "as": "value",
                    "default": "noval",
                    "key": "id",
                    "type": "zip",
                    "with": "table",
                    "withKey": "iso3"
        },
                {
                    "test": "datum.path!='noval' && datum.value!='noval'",
                    "type": "filter"
        },
                {
                    "projection": "mercator",
                    "scale": 60,
                    "translate": [
            150,
            150
          ],

                    "type": "geopath",
                    "value": "data"
        }
      ],
            "url": "static/data/world-countries.topo.json"
    }
  ],

    "marks": [
        {
            "from": {
                "data": "countries"
            },
            "properties": {
                "enter": {
                    "path": {
                        "field": "layout_path"
                    },
                    "stroke": {
                        "value": "#000000"
                    },
                    "strokeOpacity": {
                        "value": 0.5
                    }
                },
                "update": {
                    "fill": {
                        "field": "value.count",
                        "scale": "legend"
                    }
                }
            },
            "type": "path"
    }
  ],
    "scales": [
        {
            "points": true,
            "name": "legend",
            "range": "category20",
            "type": "ordinal",
            "domain":{"data": "countries", "field": "value.count"}
        }
    ],
"legends": [
    {
        "fill": "legend",
        "offset": 0,
        "properties": {},
        "title": "Size"
    }
  ]
}
